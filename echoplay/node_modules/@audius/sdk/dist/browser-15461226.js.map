{"version":3,"file":"browser-15461226.js","sources":["../../../node_modules/readable-web-to-node-stream/lib/index.js","../../../node_modules/token-types/node_modules/ieee754/index.js","../../../node_modules/token-types/lib/index.js","../../../node_modules/peek-readable/lib/EndOfFileStream.js","../../../node_modules/peek-readable/lib/Deferred.js","../../../node_modules/peek-readable/lib/StreamReader.js","../../../node_modules/peek-readable/lib/index.js","../../../node_modules/strtok3/lib/AbstractTokenizer.js","../../../node_modules/strtok3/lib/ReadStreamTokenizer.js","../../../node_modules/strtok3/lib/BufferTokenizer.js","../../../node_modules/strtok3/lib/core.js","../../../node_modules/file-type/util.js","../../../node_modules/file-type/supported.js","../../../node_modules/file-type/core.js","../../../node_modules/file-type/browser.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableWebToNodeStream = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\n/**\n * Converts a Web-API stream into Node stream.Readable class\n * Node stream readable: https://nodejs.org/api/stream.html#stream_readable_streams\n * Web API readable-stream: https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n * Node readable stream: https://nodejs.org/api/stream.html#stream_readable_streams\n */\nclass ReadableWebToNodeStream extends readable_stream_1.Readable {\n    /**\n     *\n     * @param stream Readable​Stream: https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n     */\n    constructor(stream) {\n        super();\n        this.bytesRead = 0;\n        this.released = false;\n        this.reader = stream.getReader();\n    }\n    /**\n     * Implementation of readable._read(size).\n     * When readable._read() is called, if data is available from the resource,\n     * the implementation should begin pushing that data into the read queue\n     * https://nodejs.org/api/stream.html#stream_readable_read_size_1\n     */\n    async _read() {\n        // Should start pushing data into the queue\n        // Read data from the underlying Web-API-readable-stream\n        if (this.released) {\n            this.push(null); // Signal EOF\n            return;\n        }\n        this.pendingRead = this.reader.read();\n        const data = await this.pendingRead;\n        // clear the promise before pushing pushing new data to the queue and allow sequential calls to _read()\n        delete this.pendingRead;\n        if (data.done || this.released) {\n            this.push(null); // Signal EOF\n        }\n        else {\n            this.bytesRead += data.value.length;\n            this.push(data.value); // Push new data to the queue\n        }\n    }\n    /**\n     * If there is no unresolved read call to Web-API Readable​Stream immediately returns;\n     * otherwise will wait until the read is resolved.\n     */\n    async waitForReadToComplete() {\n        if (this.pendingRead) {\n            await this.pendingRead;\n        }\n    }\n    /**\n     * Close wrapper\n     */\n    async close() {\n        await this.syncAndRelease();\n    }\n    async syncAndRelease() {\n        this.released = true;\n        await this.waitForReadToComplete();\n        await this.reader.releaseLock();\n    }\n}\nexports.ReadableWebToNodeStream = ReadableWebToNodeStream;\n//# sourceMappingURL=index.js.map","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AnsiStringType = exports.StringType = exports.BufferType = exports.Uint8ArrayType = exports.IgnoreType = exports.Float80_LE = exports.Float80_BE = exports.Float64_LE = exports.Float64_BE = exports.Float32_LE = exports.Float32_BE = exports.Float16_LE = exports.Float16_BE = exports.INT64_BE = exports.UINT64_BE = exports.INT64_LE = exports.UINT64_LE = exports.INT32_LE = exports.INT32_BE = exports.INT24_BE = exports.INT24_LE = exports.INT16_LE = exports.INT16_BE = exports.INT8 = exports.UINT32_BE = exports.UINT32_LE = exports.UINT24_BE = exports.UINT24_LE = exports.UINT16_BE = exports.UINT16_LE = exports.UINT8 = void 0;\nconst ieee754 = require(\"ieee754\");\n// Primitive types\nfunction dv(array) {\n    return new DataView(array.buffer, array.byteOffset);\n}\n/**\n * 8-bit unsigned integer\n */\nexports.UINT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getUint8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit unsigned integer, Little Endian byte order\n */\nexports.UINT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit unsigned integer, Big Endian byte order\n */\nexports.UINT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getUint16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit unsigned integer, Little Endian byte order\n */\nexports.UINT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return dataView.getUint8(offset) + (dataView.getUint16(offset + 1, true) << 8);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit unsigned integer, Big Endian byte order\n */\nexports.UINT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const dataView = dv(array);\n        return (dataView.getUint16(offset) << 8) + dataView.getUint8(offset + 2);\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit unsigned integer, Little Endian byte order\n */\nexports.UINT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit unsigned integer, Big Endian byte order\n */\nexports.UINT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getUint32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setUint32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 8-bit signed integer\n */\nexports.INT8 = {\n    len: 1,\n    get(array, offset) {\n        return dv(array).getInt8(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt8(offset, value);\n        return offset + 1;\n    }\n};\n/**\n * 16-bit signed integer, Big Endian byte order\n */\nexports.INT16_BE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value);\n        return offset + 2;\n    }\n};\n/**\n * 16-bit signed integer, Little Endian byte order\n */\nexports.INT16_LE = {\n    len: 2,\n    get(array, offset) {\n        return dv(array).getInt16(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt16(offset, value, true);\n        return offset + 2;\n    }\n};\n/**\n * 24-bit signed integer, Little Endian byte order\n */\nexports.INT24_LE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = exports.UINT24_LE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint8(offset, value & 0xff);\n        dataView.setUint16(offset + 1, value >> 8, true);\n        return offset + 3;\n    }\n};\n/**\n * 24-bit signed integer, Big Endian byte order\n */\nexports.INT24_BE = {\n    len: 3,\n    get(array, offset) {\n        const unsigned = exports.UINT24_BE.get(array, offset);\n        return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n    },\n    put(array, offset, value) {\n        const dataView = dv(array);\n        dataView.setUint16(offset, value >> 8);\n        dataView.setUint8(offset + 2, value & 0xff);\n        return offset + 3;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexports.INT32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexports.INT32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getInt32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setInt32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * 64-bit unsigned integer, Little Endian byte order\n */\nexports.UINT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Little Endian byte order\n */\nexports.INT64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit unsigned integer, Big Endian byte order\n */\nexports.UINT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigUint64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigUint64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * 64-bit signed integer, Big Endian byte order\n */\nexports.INT64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getBigInt64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setBigInt64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, big endian\n */\nexports.Float16_BE = {\n    len: 2,\n    get(dataView, offset) {\n        return ieee754.read(dataView, offset, false, 10, this.len);\n    },\n    put(dataView, offset, value) {\n        ieee754.write(dataView, value, offset, false, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 16-bit (half precision) float, little endian\n */\nexports.Float16_LE = {\n    len: 2,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 10, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 10, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, big endian\n */\nexports.Float32_BE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 32-bit (single precision) float, little endian\n */\nexports.Float32_LE = {\n    len: 4,\n    get(array, offset) {\n        return dv(array).getFloat32(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat32(offset, value, true);\n        return offset + 4;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, big endian\n */\nexports.Float64_BE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 64-bit (double precision) float, little endian\n */\nexports.Float64_LE = {\n    len: 8,\n    get(array, offset) {\n        return dv(array).getFloat64(offset, true);\n    },\n    put(array, offset, value) {\n        dv(array).setFloat64(offset, value, true);\n        return offset + 8;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, big endian\n */\nexports.Float80_BE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, false, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, false, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, little endian\n */\nexports.Float80_LE = {\n    len: 10,\n    get(array, offset) {\n        return ieee754.read(array, offset, true, 63, this.len);\n    },\n    put(array, offset, value) {\n        ieee754.write(array, value, offset, true, 63, this.len);\n        return offset + this.len;\n    }\n};\n/**\n * Ignore a given number of bytes\n */\nclass IgnoreType {\n    /**\n     * @param len number of bytes to ignore\n     */\n    constructor(len) {\n        this.len = len;\n    }\n    // ToDo: don't read, but skip data\n    get(array, off) {\n    }\n}\nexports.IgnoreType = IgnoreType;\nclass Uint8ArrayType {\n    constructor(len) {\n        this.len = len;\n    }\n    get(array, offset) {\n        return array.subarray(offset, offset + this.len);\n    }\n}\nexports.Uint8ArrayType = Uint8ArrayType;\nclass BufferType {\n    constructor(len) {\n        this.len = len;\n    }\n    get(uint8Array, off) {\n        return Buffer.from(uint8Array.subarray(off, off + this.len));\n    }\n}\nexports.BufferType = BufferType;\n/**\n * Consume a fixed number of bytes from the stream and return a string with a specified encoding.\n */\nclass StringType {\n    constructor(len, encoding) {\n        this.len = len;\n        this.encoding = encoding;\n    }\n    get(uint8Array, offset) {\n        return Buffer.from(uint8Array).toString(this.encoding, offset, offset + this.len);\n    }\n}\nexports.StringType = StringType;\n/**\n * ANSI Latin 1 String\n * Using windows-1252 / ISO 8859-1 decoding\n */\nclass AnsiStringType {\n    constructor(len) {\n        this.len = len;\n    }\n    static decode(buffer, offset, until) {\n        let str = '';\n        for (let i = offset; i < until; ++i) {\n            str += AnsiStringType.codePointToString(AnsiStringType.singleByteDecoder(buffer[i]));\n        }\n        return str;\n    }\n    static inRange(a, min, max) {\n        return min <= a && a <= max;\n    }\n    static codePointToString(cp) {\n        if (cp <= 0xFFFF) {\n            return String.fromCharCode(cp);\n        }\n        else {\n            cp -= 0x10000;\n            return String.fromCharCode((cp >> 10) + 0xD800, (cp & 0x3FF) + 0xDC00);\n        }\n    }\n    static singleByteDecoder(bite) {\n        if (AnsiStringType.inRange(bite, 0x00, 0x7F)) {\n            return bite;\n        }\n        const codePoint = AnsiStringType.windows1252[bite - 0x80];\n        if (codePoint === null) {\n            throw Error('invaliding encoding');\n        }\n        return codePoint;\n    }\n    get(buffer, offset = 0) {\n        return AnsiStringType.decode(buffer, offset, offset + this.len);\n    }\n}\nexports.AnsiStringType = AnsiStringType;\nAnsiStringType.windows1252 = [8364, 129, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352,\n    8249, 338, 141, 381, 143, 144, 8216, 8217, 8220, 8221, 8226, 8211, 8212, 732,\n    8482, 353, 8250, 339, 157, 382, 376, 160, 161, 162, 163, 164, 165, 166, 167, 168,\n    169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184,\n    185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200,\n    201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216,\n    217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232,\n    233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247,\n    248, 249, 250, 251, 252, 253, 254, 255];\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EndOfStreamError = exports.defaultMessages = void 0;\r\nexports.defaultMessages = 'End-Of-Stream';\r\n/**\r\n * Thrown on read operation of the end of file or stream has been reached\r\n */\r\nclass EndOfStreamError extends Error {\r\n    constructor() {\r\n        super(exports.defaultMessages);\r\n    }\r\n}\r\nexports.EndOfStreamError = EndOfStreamError;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Deferred = void 0;\r\nclass Deferred {\r\n    constructor() {\r\n        this.resolve = () => null;\r\n        this.reject = () => null;\r\n        this.promise = new Promise((resolve, reject) => {\r\n            this.reject = reject;\r\n            this.resolve = resolve;\r\n        });\r\n    }\r\n}\r\nexports.Deferred = Deferred;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StreamReader = exports.EndOfStreamError = void 0;\r\nconst EndOfFileStream_1 = require(\"./EndOfFileStream\");\r\nconst Deferred_1 = require(\"./Deferred\");\r\nvar EndOfFileStream_2 = require(\"./EndOfFileStream\");\r\nObject.defineProperty(exports, \"EndOfStreamError\", { enumerable: true, get: function () { return EndOfFileStream_2.EndOfStreamError; } });\r\nconst maxStreamReadSize = 1 * 1024 * 1024; // Maximum request length on read-stream operation\r\nclass StreamReader {\r\n    constructor(s) {\r\n        this.s = s;\r\n        /**\r\n         * Deferred used for postponed read request (as not data is yet available to read)\r\n         */\r\n        this.deferred = null;\r\n        this.endOfStream = false;\r\n        /**\r\n         * Store peeked data\r\n         * @type {Array}\r\n         */\r\n        this.peekQueue = [];\r\n        if (!s.read || !s.once) {\r\n            throw new Error('Expected an instance of stream.Readable');\r\n        }\r\n        this.s.once('end', () => this.reject(new EndOfFileStream_1.EndOfStreamError()));\r\n        this.s.once('error', err => this.reject(err));\r\n        this.s.once('close', () => this.reject(new Error('Stream closed')));\r\n    }\r\n    /**\r\n     * Read ahead (peek) from stream. Subsequent read or peeks will return the same data\r\n     * @param uint8Array - Uint8Array (or Buffer) to store data read from stream in\r\n     * @param offset - Offset target\r\n     * @param length - Number of bytes to read\r\n     * @returns Number of bytes peeked\r\n     */\r\n    async peek(uint8Array, offset, length) {\r\n        const bytesRead = await this.read(uint8Array, offset, length);\r\n        this.peekQueue.push(uint8Array.subarray(offset, offset + bytesRead)); // Put read data back to peek buffer\r\n        return bytesRead;\r\n    }\r\n    /**\r\n     * Read chunk from stream\r\n     * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\r\n     * @param offset - Offset target\r\n     * @param length - Number of bytes to read\r\n     * @returns Number of bytes read\r\n     */\r\n    async read(buffer, offset, length) {\r\n        if (length === 0) {\r\n            return 0;\r\n        }\r\n        if (this.peekQueue.length === 0 && this.endOfStream) {\r\n            throw new EndOfFileStream_1.EndOfStreamError();\r\n        }\r\n        let remaining = length;\r\n        let bytesRead = 0;\r\n        // consume peeked data first\r\n        while (this.peekQueue.length > 0 && remaining > 0) {\r\n            const peekData = this.peekQueue.pop(); // Front of queue\r\n            if (!peekData)\r\n                throw new Error('peekData should be defined');\r\n            const lenCopy = Math.min(peekData.length, remaining);\r\n            buffer.set(peekData.subarray(0, lenCopy), offset + bytesRead);\r\n            bytesRead += lenCopy;\r\n            remaining -= lenCopy;\r\n            if (lenCopy < peekData.length) {\r\n                // remainder back to queue\r\n                this.peekQueue.push(peekData.subarray(lenCopy));\r\n            }\r\n        }\r\n        // continue reading from stream if required\r\n        while (remaining > 0 && !this.endOfStream) {\r\n            const reqLen = Math.min(remaining, maxStreamReadSize);\r\n            const chunkLen = await this.readFromStream(buffer, offset + bytesRead, reqLen);\r\n            bytesRead += chunkLen;\r\n            if (chunkLen < reqLen)\r\n                break;\r\n            remaining -= chunkLen;\r\n        }\r\n        return bytesRead;\r\n    }\r\n    /**\r\n     * Read chunk from stream\r\n     * @param buffer Target Uint8Array (or Buffer) to store data read from stream in\r\n     * @param offset Offset target\r\n     * @param length Number of bytes to read\r\n     * @returns Number of bytes read\r\n     */\r\n    async readFromStream(buffer, offset, length) {\r\n        const readBuffer = this.s.read(length);\r\n        if (readBuffer) {\r\n            buffer.set(readBuffer, offset);\r\n            return readBuffer.length;\r\n        }\r\n        else {\r\n            const request = {\r\n                buffer,\r\n                offset,\r\n                length,\r\n                deferred: new Deferred_1.Deferred()\r\n            };\r\n            this.deferred = request.deferred;\r\n            this.s.once('readable', () => {\r\n                this.readDeferred(request);\r\n            });\r\n            return request.deferred.promise;\r\n        }\r\n    }\r\n    /**\r\n     * Process deferred read request\r\n     * @param request Deferred read request\r\n     */\r\n    readDeferred(request) {\r\n        const readBuffer = this.s.read(request.length);\r\n        if (readBuffer) {\r\n            request.buffer.set(readBuffer, request.offset);\r\n            request.deferred.resolve(readBuffer.length);\r\n            this.deferred = null;\r\n        }\r\n        else {\r\n            this.s.once('readable', () => {\r\n                this.readDeferred(request);\r\n            });\r\n        }\r\n    }\r\n    reject(err) {\r\n        this.endOfStream = true;\r\n        if (this.deferred) {\r\n            this.deferred.reject(err);\r\n            this.deferred = null;\r\n        }\r\n    }\r\n}\r\nexports.StreamReader = StreamReader;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StreamReader = exports.EndOfStreamError = void 0;\r\nvar EndOfFileStream_1 = require(\"./EndOfFileStream\");\r\nObject.defineProperty(exports, \"EndOfStreamError\", { enumerable: true, get: function () { return EndOfFileStream_1.EndOfStreamError; } });\r\nvar StreamReader_1 = require(\"./StreamReader\");\r\nObject.defineProperty(exports, \"StreamReader\", { enumerable: true, get: function () { return StreamReader_1.StreamReader; } });\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbstractTokenizer = void 0;\r\nconst peek_readable_1 = require(\"peek-readable\");\r\n/**\r\n * Core tokenizer\r\n */\r\nclass AbstractTokenizer {\r\n    constructor(fileInfo) {\r\n        /**\r\n         * Tokenizer-stream position\r\n         */\r\n        this.position = 0;\r\n        this.numBuffer = new Uint8Array(8);\r\n        this.fileInfo = fileInfo ? fileInfo : {};\r\n    }\r\n    /**\r\n     * Read a token from the tokenizer-stream\r\n     * @param token - The token to read\r\n     * @param position - If provided, the desired position in the tokenizer-stream\r\n     * @returns Promise with token data\r\n     */\r\n    async readToken(token, position = this.position) {\r\n        const uint8Array = Buffer.alloc(token.len);\r\n        const len = await this.readBuffer(uint8Array, { position });\r\n        if (len < token.len)\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        return token.get(uint8Array, 0);\r\n    }\r\n    /**\r\n     * Peek a token from the tokenizer-stream.\r\n     * @param token - Token to peek from the tokenizer-stream.\r\n     * @param position - Offset where to begin reading within the file. If position is null, data will be read from the current file position.\r\n     * @returns Promise with token data\r\n     */\r\n    async peekToken(token, position = this.position) {\r\n        const uint8Array = Buffer.alloc(token.len);\r\n        const len = await this.peekBuffer(uint8Array, { position });\r\n        if (len < token.len)\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        return token.get(uint8Array, 0);\r\n    }\r\n    /**\r\n     * Read a numeric token from the stream\r\n     * @param token - Numeric token\r\n     * @returns Promise with number\r\n     */\r\n    async readNumber(token) {\r\n        const len = await this.readBuffer(this.numBuffer, { length: token.len });\r\n        if (len < token.len)\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        return token.get(this.numBuffer, 0);\r\n    }\r\n    /**\r\n     * Read a numeric token from the stream\r\n     * @param token - Numeric token\r\n     * @returns Promise with number\r\n     */\r\n    async peekNumber(token) {\r\n        const len = await this.peekBuffer(this.numBuffer, { length: token.len });\r\n        if (len < token.len)\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        return token.get(this.numBuffer, 0);\r\n    }\r\n    /**\r\n     * Ignore number of bytes, advances the pointer in under tokenizer-stream.\r\n     * @param length - Number of bytes to ignore\r\n     * @return resolves the number of bytes ignored, equals length if this available, otherwise the number of bytes available\r\n     */\r\n    async ignore(length) {\r\n        if (this.fileInfo.size !== undefined) {\r\n            const bytesLeft = this.fileInfo.size - this.position;\r\n            if (length > bytesLeft) {\r\n                this.position += bytesLeft;\r\n                return bytesLeft;\r\n            }\r\n        }\r\n        this.position += length;\r\n        return length;\r\n    }\r\n    async close() {\r\n        // empty\r\n    }\r\n    normalizeOptions(uint8Array, options) {\r\n        if (options && options.position !== undefined && options.position < this.position) {\r\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\r\n        }\r\n        if (options) {\r\n            return {\r\n                mayBeLess: options.mayBeLess === true,\r\n                offset: options.offset ? options.offset : 0,\r\n                length: options.length ? options.length : (uint8Array.length - (options.offset ? options.offset : 0)),\r\n                position: options.position ? options.position : this.position\r\n            };\r\n        }\r\n        return {\r\n            mayBeLess: false,\r\n            offset: 0,\r\n            length: uint8Array.length,\r\n            position: this.position\r\n        };\r\n    }\r\n}\r\nexports.AbstractTokenizer = AbstractTokenizer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ReadStreamTokenizer = void 0;\r\nconst AbstractTokenizer_1 = require(\"./AbstractTokenizer\");\r\nconst peek_readable_1 = require(\"peek-readable\");\r\nconst maxBufferSize = 256000;\r\nclass ReadStreamTokenizer extends AbstractTokenizer_1.AbstractTokenizer {\r\n    constructor(stream, fileInfo) {\r\n        super(fileInfo);\r\n        this.streamReader = new peek_readable_1.StreamReader(stream);\r\n    }\r\n    /**\r\n     * Get file information, an HTTP-client may implement this doing a HEAD request\r\n     * @return Promise with file information\r\n     */\r\n    async getFileInfo() {\r\n        return this.fileInfo;\r\n    }\r\n    /**\r\n     * Read buffer from tokenizer\r\n     * @param uint8Array - Target Uint8Array to fill with data read from the tokenizer-stream\r\n     * @param options - Read behaviour options\r\n     * @returns Promise with number of bytes read\r\n     */\r\n    async readBuffer(uint8Array, options) {\r\n        const normOptions = this.normalizeOptions(uint8Array, options);\r\n        const skipBytes = normOptions.position - this.position;\r\n        if (skipBytes > 0) {\r\n            await this.ignore(skipBytes);\r\n            return this.readBuffer(uint8Array, options);\r\n        }\r\n        else if (skipBytes < 0) {\r\n            throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\r\n        }\r\n        if (normOptions.length === 0) {\r\n            return 0;\r\n        }\r\n        const bytesRead = await this.streamReader.read(uint8Array, normOptions.offset, normOptions.length);\r\n        this.position += bytesRead;\r\n        if ((!options || !options.mayBeLess) && bytesRead < normOptions.length) {\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        }\r\n        return bytesRead;\r\n    }\r\n    /**\r\n     * Peek (read ahead) buffer from tokenizer\r\n     * @param uint8Array - Uint8Array (or Buffer) to write data to\r\n     * @param options - Read behaviour options\r\n     * @returns Promise with number of bytes peeked\r\n     */\r\n    async peekBuffer(uint8Array, options) {\r\n        const normOptions = this.normalizeOptions(uint8Array, options);\r\n        let bytesRead = 0;\r\n        if (normOptions.position) {\r\n            const skipBytes = normOptions.position - this.position;\r\n            if (skipBytes > 0) {\r\n                const skipBuffer = new Uint8Array(normOptions.length + skipBytes);\r\n                bytesRead = await this.peekBuffer(skipBuffer, { mayBeLess: normOptions.mayBeLess });\r\n                uint8Array.set(skipBuffer.subarray(skipBytes), normOptions.offset);\r\n                return bytesRead - skipBytes;\r\n            }\r\n            else if (skipBytes < 0) {\r\n                throw new Error('Cannot peek from a negative offset in a stream');\r\n            }\r\n        }\r\n        if (normOptions.length > 0) {\r\n            try {\r\n                bytesRead = await this.streamReader.peek(uint8Array, normOptions.offset, normOptions.length);\r\n            }\r\n            catch (err) {\r\n                if (options && options.mayBeLess && err instanceof peek_readable_1.EndOfStreamError) {\r\n                    return 0;\r\n                }\r\n                throw err;\r\n            }\r\n            if ((!normOptions.mayBeLess) && bytesRead < normOptions.length) {\r\n                throw new peek_readable_1.EndOfStreamError();\r\n            }\r\n        }\r\n        return bytesRead;\r\n    }\r\n    async ignore(length) {\r\n        // debug(`ignore ${this.position}...${this.position + length - 1}`);\r\n        const bufSize = Math.min(maxBufferSize, length);\r\n        const buf = new Uint8Array(bufSize);\r\n        let totBytesRead = 0;\r\n        while (totBytesRead < length) {\r\n            const remaining = length - totBytesRead;\r\n            const bytesRead = await this.readBuffer(buf, { length: Math.min(bufSize, remaining) });\r\n            if (bytesRead < 0) {\r\n                return bytesRead;\r\n            }\r\n            totBytesRead += bytesRead;\r\n        }\r\n        return totBytesRead;\r\n    }\r\n}\r\nexports.ReadStreamTokenizer = ReadStreamTokenizer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BufferTokenizer = void 0;\r\nconst peek_readable_1 = require(\"peek-readable\");\r\nconst AbstractTokenizer_1 = require(\"./AbstractTokenizer\");\r\nclass BufferTokenizer extends AbstractTokenizer_1.AbstractTokenizer {\r\n    /**\r\n     * Construct BufferTokenizer\r\n     * @param uint8Array - Uint8Array to tokenize\r\n     * @param fileInfo - Pass additional file information to the tokenizer\r\n     */\r\n    constructor(uint8Array, fileInfo) {\r\n        super(fileInfo);\r\n        this.uint8Array = uint8Array;\r\n        this.fileInfo.size = this.fileInfo.size ? this.fileInfo.size : uint8Array.length;\r\n    }\r\n    /**\r\n     * Read buffer from tokenizer\r\n     * @param uint8Array - Uint8Array to tokenize\r\n     * @param options - Read behaviour options\r\n     * @returns {Promise<number>}\r\n     */\r\n    async readBuffer(uint8Array, options) {\r\n        if (options && options.position) {\r\n            if (options.position < this.position) {\r\n                throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\r\n            }\r\n            this.position = options.position;\r\n        }\r\n        const bytesRead = await this.peekBuffer(uint8Array, options);\r\n        this.position += bytesRead;\r\n        return bytesRead;\r\n    }\r\n    /**\r\n     * Peek (read ahead) buffer from tokenizer\r\n     * @param uint8Array\r\n     * @param options - Read behaviour options\r\n     * @returns {Promise<number>}\r\n     */\r\n    async peekBuffer(uint8Array, options) {\r\n        const normOptions = this.normalizeOptions(uint8Array, options);\r\n        const bytes2read = Math.min(this.uint8Array.length - normOptions.position, normOptions.length);\r\n        if ((!normOptions.mayBeLess) && bytes2read < normOptions.length) {\r\n            throw new peek_readable_1.EndOfStreamError();\r\n        }\r\n        else {\r\n            uint8Array.set(this.uint8Array.subarray(normOptions.position, normOptions.position + bytes2read), normOptions.offset);\r\n            return bytes2read;\r\n        }\r\n    }\r\n    async close() {\r\n        // empty\r\n    }\r\n}\r\nexports.BufferTokenizer = BufferTokenizer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fromBuffer = exports.fromStream = exports.EndOfStreamError = void 0;\r\nconst ReadStreamTokenizer_1 = require(\"./ReadStreamTokenizer\");\r\nconst BufferTokenizer_1 = require(\"./BufferTokenizer\");\r\nvar peek_readable_1 = require(\"peek-readable\");\r\nObject.defineProperty(exports, \"EndOfStreamError\", { enumerable: true, get: function () { return peek_readable_1.EndOfStreamError; } });\r\n/**\r\n * Construct ReadStreamTokenizer from given Stream.\r\n * Will set fileSize, if provided given Stream has set the .path property/\r\n * @param stream - Read from Node.js Stream.Readable\r\n * @param fileInfo - Pass the file information, like size and MIME-type of the corresponding stream.\r\n * @returns ReadStreamTokenizer\r\n */\r\nfunction fromStream(stream, fileInfo) {\r\n    fileInfo = fileInfo ? fileInfo : {};\r\n    return new ReadStreamTokenizer_1.ReadStreamTokenizer(stream, fileInfo);\r\n}\r\nexports.fromStream = fromStream;\r\n/**\r\n * Construct ReadStreamTokenizer from given Buffer.\r\n * @param uint8Array - Uint8Array to tokenize\r\n * @param fileInfo - Pass additional file information to the tokenizer\r\n * @returns BufferTokenizer\r\n */\r\nfunction fromBuffer(uint8Array, fileInfo) {\r\n    return new BufferTokenizer_1.BufferTokenizer(uint8Array, fileInfo);\r\n}\r\nexports.fromBuffer = fromBuffer;\r\n","'use strict';\n\nexports.stringToBytes = string => [...string].map(character => character.charCodeAt(0));\n\n/**\nChecks whether the TAR checksum is valid.\n\n@param {Buffer} buffer - The TAR header `[offset ... offset + 512]`.\n@param {number} offset - TAR header offset.\n@returns {boolean} `true` if the TAR checksum is valid, otherwise `false`.\n*/\nexports.tarHeaderChecksumMatches = (buffer, offset = 0) => {\n\tconst readSum = parseInt(buffer.toString('utf8', 148, 154).replace(/\\0.*$/, '').trim(), 8); // Read sum in header\n\tif (isNaN(readSum)) {\n\t\treturn false;\n\t}\n\n\tlet sum = 8 * 0x20; // Initialize signed bit sum\n\n\tfor (let i = offset; i < offset + 148; i++) {\n\t\tsum += buffer[i];\n\t}\n\n\tfor (let i = offset + 156; i < offset + 512; i++) {\n\t\tsum += buffer[i];\n\t}\n\n\treturn readSum === sum;\n};\n\n/**\nID3 UINT32 sync-safe tokenizer token.\n28 bits (representing up to 256MB) integer, the msb is 0 to avoid \"false syncsignals\".\n*/\nexports.uint32SyncSafeToken = {\n\tget: (buffer, offset) => {\n\t\treturn (buffer[offset + 3] & 0x7F) | ((buffer[offset + 2]) << 7) | ((buffer[offset + 1]) << 14) | ((buffer[offset]) << 21);\n\t},\n\tlen: 4\n};\n","'use strict';\n\nmodule.exports = {\n\textensions: [\n\t\t'jpg',\n\t\t'png',\n\t\t'apng',\n\t\t'gif',\n\t\t'webp',\n\t\t'flif',\n\t\t'xcf',\n\t\t'cr2',\n\t\t'cr3',\n\t\t'orf',\n\t\t'arw',\n\t\t'dng',\n\t\t'nef',\n\t\t'rw2',\n\t\t'raf',\n\t\t'tif',\n\t\t'bmp',\n\t\t'icns',\n\t\t'jxr',\n\t\t'psd',\n\t\t'indd',\n\t\t'zip',\n\t\t'tar',\n\t\t'rar',\n\t\t'gz',\n\t\t'bz2',\n\t\t'7z',\n\t\t'dmg',\n\t\t'mp4',\n\t\t'mid',\n\t\t'mkv',\n\t\t'webm',\n\t\t'mov',\n\t\t'avi',\n\t\t'mpg',\n\t\t'mp2',\n\t\t'mp3',\n\t\t'm4a',\n\t\t'oga',\n\t\t'ogg',\n\t\t'ogv',\n\t\t'opus',\n\t\t'flac',\n\t\t'wav',\n\t\t'spx',\n\t\t'amr',\n\t\t'pdf',\n\t\t'epub',\n\t\t'exe',\n\t\t'swf',\n\t\t'rtf',\n\t\t'wasm',\n\t\t'woff',\n\t\t'woff2',\n\t\t'eot',\n\t\t'ttf',\n\t\t'otf',\n\t\t'ico',\n\t\t'flv',\n\t\t'ps',\n\t\t'xz',\n\t\t'sqlite',\n\t\t'nes',\n\t\t'crx',\n\t\t'xpi',\n\t\t'cab',\n\t\t'deb',\n\t\t'ar',\n\t\t'rpm',\n\t\t'Z',\n\t\t'lz',\n\t\t'cfb',\n\t\t'mxf',\n\t\t'mts',\n\t\t'blend',\n\t\t'bpg',\n\t\t'docx',\n\t\t'pptx',\n\t\t'xlsx',\n\t\t'3gp',\n\t\t'3g2',\n\t\t'jp2',\n\t\t'jpm',\n\t\t'jpx',\n\t\t'mj2',\n\t\t'aif',\n\t\t'qcp',\n\t\t'odt',\n\t\t'ods',\n\t\t'odp',\n\t\t'xml',\n\t\t'mobi',\n\t\t'heic',\n\t\t'cur',\n\t\t'ktx',\n\t\t'ape',\n\t\t'wv',\n\t\t'dcm',\n\t\t'ics',\n\t\t'glb',\n\t\t'pcap',\n\t\t'dsf',\n\t\t'lnk',\n\t\t'alias',\n\t\t'voc',\n\t\t'ac3',\n\t\t'm4v',\n\t\t'm4p',\n\t\t'm4b',\n\t\t'f4v',\n\t\t'f4p',\n\t\t'f4b',\n\t\t'f4a',\n\t\t'mie',\n\t\t'asf',\n\t\t'ogm',\n\t\t'ogx',\n\t\t'mpc',\n\t\t'arrow',\n\t\t'shp',\n\t\t'aac',\n\t\t'mp1',\n\t\t'it',\n\t\t's3m',\n\t\t'xm',\n\t\t'ai',\n\t\t'skp',\n\t\t'avif',\n\t\t'eps',\n\t\t'lzh',\n\t\t'pgp',\n\t\t'asar',\n\t\t'stl',\n\t\t'chm',\n\t\t'3mf',\n\t\t'zst',\n\t\t'jxl',\n\t\t'vcf'\n\t],\n\tmimeTypes: [\n\t\t'image/jpeg',\n\t\t'image/png',\n\t\t'image/gif',\n\t\t'image/webp',\n\t\t'image/flif',\n\t\t'image/x-xcf',\n\t\t'image/x-canon-cr2',\n\t\t'image/x-canon-cr3',\n\t\t'image/tiff',\n\t\t'image/bmp',\n\t\t'image/vnd.ms-photo',\n\t\t'image/vnd.adobe.photoshop',\n\t\t'application/x-indesign',\n\t\t'application/epub+zip',\n\t\t'application/x-xpinstall',\n\t\t'application/vnd.oasis.opendocument.text',\n\t\t'application/vnd.oasis.opendocument.spreadsheet',\n\t\t'application/vnd.oasis.opendocument.presentation',\n\t\t'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n\t\t'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\t\t'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t\t'application/zip',\n\t\t'application/x-tar',\n\t\t'application/x-rar-compressed',\n\t\t'application/gzip',\n\t\t'application/x-bzip2',\n\t\t'application/x-7z-compressed',\n\t\t'application/x-apple-diskimage',\n\t\t'application/x-apache-arrow',\n\t\t'video/mp4',\n\t\t'audio/midi',\n\t\t'video/x-matroska',\n\t\t'video/webm',\n\t\t'video/quicktime',\n\t\t'video/vnd.avi',\n\t\t'audio/vnd.wave',\n\t\t'audio/qcelp',\n\t\t'audio/x-ms-asf',\n\t\t'video/x-ms-asf',\n\t\t'application/vnd.ms-asf',\n\t\t'video/mpeg',\n\t\t'video/3gpp',\n\t\t'audio/mpeg',\n\t\t'audio/mp4', // RFC 4337\n\t\t'audio/opus',\n\t\t'video/ogg',\n\t\t'audio/ogg',\n\t\t'application/ogg',\n\t\t'audio/x-flac',\n\t\t'audio/ape',\n\t\t'audio/wavpack',\n\t\t'audio/amr',\n\t\t'application/pdf',\n\t\t'application/x-msdownload',\n\t\t'application/x-shockwave-flash',\n\t\t'application/rtf',\n\t\t'application/wasm',\n\t\t'font/woff',\n\t\t'font/woff2',\n\t\t'application/vnd.ms-fontobject',\n\t\t'font/ttf',\n\t\t'font/otf',\n\t\t'image/x-icon',\n\t\t'video/x-flv',\n\t\t'application/postscript',\n\t\t'application/eps',\n\t\t'application/x-xz',\n\t\t'application/x-sqlite3',\n\t\t'application/x-nintendo-nes-rom',\n\t\t'application/x-google-chrome-extension',\n\t\t'application/vnd.ms-cab-compressed',\n\t\t'application/x-deb',\n\t\t'application/x-unix-archive',\n\t\t'application/x-rpm',\n\t\t'application/x-compress',\n\t\t'application/x-lzip',\n\t\t'application/x-cfb',\n\t\t'application/x-mie',\n\t\t'application/mxf',\n\t\t'video/mp2t',\n\t\t'application/x-blender',\n\t\t'image/bpg',\n\t\t'image/jp2',\n\t\t'image/jpx',\n\t\t'image/jpm',\n\t\t'image/mj2',\n\t\t'audio/aiff',\n\t\t'application/xml',\n\t\t'application/x-mobipocket-ebook',\n\t\t'image/heif',\n\t\t'image/heif-sequence',\n\t\t'image/heic',\n\t\t'image/heic-sequence',\n\t\t'image/icns',\n\t\t'image/ktx',\n\t\t'application/dicom',\n\t\t'audio/x-musepack',\n\t\t'text/calendar',\n\t\t'text/vcard',\n\t\t'model/gltf-binary',\n\t\t'application/vnd.tcpdump.pcap',\n\t\t'audio/x-dsf', // Non-standard\n\t\t'application/x.ms.shortcut', // Invented by us\n\t\t'application/x.apple.alias', // Invented by us\n\t\t'audio/x-voc',\n\t\t'audio/vnd.dolby.dd-raw',\n\t\t'audio/x-m4a',\n\t\t'image/apng',\n\t\t'image/x-olympus-orf',\n\t\t'image/x-sony-arw',\n\t\t'image/x-adobe-dng',\n\t\t'image/x-nikon-nef',\n\t\t'image/x-panasonic-rw2',\n\t\t'image/x-fujifilm-raf',\n\t\t'video/x-m4v',\n\t\t'video/3gpp2',\n\t\t'application/x-esri-shape',\n\t\t'audio/aac',\n\t\t'audio/x-it',\n\t\t'audio/x-s3m',\n\t\t'audio/x-xm',\n\t\t'video/MP1S',\n\t\t'video/MP2P',\n\t\t'application/vnd.sketchup.skp',\n\t\t'image/avif',\n\t\t'application/x-lzh-compressed',\n\t\t'application/pgp-encrypted',\n\t\t'application/x-asar',\n\t\t'model/stl',\n\t\t'application/vnd.ms-htmlhelp',\n\t\t'model/3mf',\n\t\t'image/jxl',\n\t\t'application/zstd'\n\t]\n};\n","'use strict';\nconst Token = require('token-types');\nconst strtok3 = require('strtok3/lib/core');\nconst {\n\tstringToBytes,\n\ttarHeaderChecksumMatches,\n\tuint32SyncSafeToken\n} = require('./util');\nconst supported = require('./supported');\n\nconst minimumBytes = 4100; // A fair amount of file-types are detectable within this range\n\nasync function fromStream(stream) {\n\tconst tokenizer = await strtok3.fromStream(stream);\n\ttry {\n\t\treturn await fromTokenizer(tokenizer);\n\t} finally {\n\t\tawait tokenizer.close();\n\t}\n}\n\nasync function fromBuffer(input) {\n\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer || Buffer.isBuffer(input))) {\n\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`Buffer\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t}\n\n\tconst buffer = input instanceof Buffer ? input : Buffer.from(input);\n\n\tif (!(buffer && buffer.length > 1)) {\n\t\treturn;\n\t}\n\n\tconst tokenizer = strtok3.fromBuffer(buffer);\n\treturn fromTokenizer(tokenizer);\n}\n\nfunction _check(buffer, headers, options) {\n\toptions = {\n\t\toffset: 0,\n\t\t...options\n\t};\n\n\tfor (const [index, header] of headers.entries()) {\n\t\t// If a bitmask is set\n\t\tif (options.mask) {\n\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\tif (header !== (options.mask[index] & buffer[index + options.offset])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (header !== buffer[index + options.offset]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nasync function fromTokenizer(tokenizer) {\n\ttry {\n\t\treturn _fromTokenizer(tokenizer);\n\t} catch (error) {\n\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nasync function _fromTokenizer(tokenizer) {\n\tlet buffer = Buffer.alloc(minimumBytes);\n\tconst bytesRead = 12;\n\tconst check = (header, options) => _check(buffer, header, options);\n\tconst checkString = (header, options) => check(stringToBytes(header), options);\n\n\t// Keep reading until EOF if the file size is unknown.\n\tif (!tokenizer.fileInfo.size) {\n\t\ttokenizer.fileInfo.size = Number.MAX_SAFE_INTEGER;\n\t}\n\n\tawait tokenizer.peekBuffer(buffer, {length: bytesRead, mayBeLess: true});\n\n\t// -- 2-byte signatures --\n\n\tif (check([0x42, 0x4D])) {\n\t\treturn {\n\t\t\text: 'bmp',\n\t\t\tmime: 'image/bmp'\n\t\t};\n\t}\n\n\tif (check([0x0B, 0x77])) {\n\t\treturn {\n\t\t\text: 'ac3',\n\t\t\tmime: 'audio/vnd.dolby.dd-raw'\n\t\t};\n\t}\n\n\tif (check([0x78, 0x01])) {\n\t\treturn {\n\t\t\text: 'dmg',\n\t\t\tmime: 'application/x-apple-diskimage'\n\t\t};\n\t}\n\n\tif (check([0x4D, 0x5A])) {\n\t\treturn {\n\t\t\text: 'exe',\n\t\t\tmime: 'application/x-msdownload'\n\t\t};\n\t}\n\n\tif (check([0x25, 0x21])) {\n\t\tawait tokenizer.peekBuffer(buffer, {length: 24, mayBeLess: true});\n\n\t\tif (checkString('PS-Adobe-', {offset: 2}) &&\n\t\t\tcheckString(' EPSF-', {offset: 14})) {\n\t\t\treturn {\n\t\t\t\text: 'eps',\n\t\t\t\tmime: 'application/eps'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\text: 'ps',\n\t\t\tmime: 'application/postscript'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x1F, 0xA0]) ||\n\t\tcheck([0x1F, 0x9D])\n\t) {\n\t\treturn {\n\t\t\text: 'Z',\n\t\t\tmime: 'application/x-compress'\n\t\t};\n\t}\n\n\t// -- 3-byte signatures --\n\n\tif (check([0xFF, 0xD8, 0xFF])) {\n\t\treturn {\n\t\t\text: 'jpg',\n\t\t\tmime: 'image/jpeg'\n\t\t};\n\t}\n\n\tif (check([0x49, 0x49, 0xBC])) {\n\t\treturn {\n\t\t\text: 'jxr',\n\t\t\tmime: 'image/vnd.ms-photo'\n\t\t};\n\t}\n\n\tif (check([0x1F, 0x8B, 0x8])) {\n\t\treturn {\n\t\t\text: 'gz',\n\t\t\tmime: 'application/gzip'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x5A, 0x68])) {\n\t\treturn {\n\t\t\text: 'bz2',\n\t\t\tmime: 'application/x-bzip2'\n\t\t};\n\t}\n\n\tif (checkString('ID3')) {\n\t\tawait tokenizer.ignore(6); // Skip ID3 header until the header size\n\t\tconst id3HeaderLen = await tokenizer.readToken(uint32SyncSafeToken);\n\t\tif (tokenizer.position + id3HeaderLen > tokenizer.fileInfo.size) {\n\t\t\t// Guess file type based on ID3 header for backward compatibility\n\t\t\treturn {\n\t\t\t\text: 'mp3',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\tawait tokenizer.ignore(id3HeaderLen);\n\t\treturn fromTokenizer(tokenizer); // Skip ID3 header, recursion\n\t}\n\n\t// Musepack, SV7\n\tif (checkString('MP+')) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\tif (\n\t\t(buffer[0] === 0x43 || buffer[0] === 0x46) &&\n\t\tcheck([0x57, 0x53], {offset: 1})\n\t) {\n\t\treturn {\n\t\t\text: 'swf',\n\t\t\tmime: 'application/x-shockwave-flash'\n\t\t};\n\t}\n\n\t// -- 4-byte signatures --\n\n\tif (check([0x47, 0x49, 0x46])) {\n\t\treturn {\n\t\t\text: 'gif',\n\t\t\tmime: 'image/gif'\n\t\t};\n\t}\n\n\tif (checkString('FLIF')) {\n\t\treturn {\n\t\t\text: 'flif',\n\t\t\tmime: 'image/flif'\n\t\t};\n\t}\n\n\tif (checkString('8BPS')) {\n\t\treturn {\n\t\t\text: 'psd',\n\t\t\tmime: 'image/vnd.adobe.photoshop'\n\t\t};\n\t}\n\n\tif (checkString('WEBP', {offset: 8})) {\n\t\treturn {\n\t\t\text: 'webp',\n\t\t\tmime: 'image/webp'\n\t\t};\n\t}\n\n\t// Musepack, SV8\n\tif (checkString('MPCK')) {\n\t\treturn {\n\t\t\text: 'mpc',\n\t\t\tmime: 'audio/x-musepack'\n\t\t};\n\t}\n\n\tif (checkString('FORM')) {\n\t\treturn {\n\t\t\text: 'aif',\n\t\t\tmime: 'audio/aiff'\n\t\t};\n\t}\n\n\tif (checkString('icns', {offset: 0})) {\n\t\treturn {\n\t\t\text: 'icns',\n\t\t\tmime: 'image/icns'\n\t\t};\n\t}\n\n\t// Zip-based file formats\n\t// Need to be before the `zip` check\n\tif (check([0x50, 0x4B, 0x3, 0x4])) { // Local file header signature\n\t\ttry {\n\t\t\twhile (tokenizer.position + 30 < tokenizer.fileInfo.size) {\n\t\t\t\tawait tokenizer.readBuffer(buffer, {length: 30});\n\n\t\t\t\t// https://en.wikipedia.org/wiki/Zip_(file_format)#File_headers\n\t\t\t\tconst zipHeader = {\n\t\t\t\t\tcompressedSize: buffer.readUInt32LE(18),\n\t\t\t\t\tuncompressedSize: buffer.readUInt32LE(22),\n\t\t\t\t\tfilenameLength: buffer.readUInt16LE(26),\n\t\t\t\t\textraFieldLength: buffer.readUInt16LE(28)\n\t\t\t\t};\n\n\t\t\t\tzipHeader.filename = await tokenizer.readToken(new Token.StringType(zipHeader.filenameLength, 'utf-8'));\n\t\t\t\tawait tokenizer.ignore(zipHeader.extraFieldLength);\n\n\t\t\t\t// Assumes signed `.xpi` from addons.mozilla.org\n\t\t\t\tif (zipHeader.filename === 'META-INF/mozilla.rsa') {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'xpi',\n\t\t\t\t\t\tmime: 'application/x-xpinstall'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (zipHeader.filename.endsWith('.rels') || zipHeader.filename.endsWith('.xml')) {\n\t\t\t\t\tconst type = zipHeader.filename.split('/')[0];\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase '_rels':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'word':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'docx',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'ppt':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'pptx',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'xl':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (zipHeader.filename.startsWith('xl/')) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (zipHeader.filename.startsWith('3D/') && zipHeader.filename.endsWith('.model')) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: '3mf',\n\t\t\t\t\t\tmime: 'model/3mf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// The docx, xlsx and pptx file types extend the Office Open XML file format:\n\t\t\t\t// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats\n\t\t\t\t// We look for:\n\t\t\t\t// - one entry named '[Content_Types].xml' or '_rels/.rels',\n\t\t\t\t// - one entry indicating specific type of file.\n\t\t\t\t// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.\n\t\t\t\tif (zipHeader.filename === 'mimetype' && zipHeader.compressedSize === zipHeader.uncompressedSize) {\n\t\t\t\t\tconst mimeType = await tokenizer.readToken(new Token.StringType(zipHeader.compressedSize, 'utf-8'));\n\n\t\t\t\t\tswitch (mimeType) {\n\t\t\t\t\t\tcase 'application/epub+zip':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'epub',\n\t\t\t\t\t\t\t\tmime: 'application/epub+zip'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.text':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'odt',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.text'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.spreadsheet':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'ods',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.spreadsheet'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.presentation':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\text: 'odp',\n\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.presentation'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Try to find next header manually when current one is corrupted\n\t\t\t\tif (zipHeader.compressedSize === 0) {\n\t\t\t\t\tlet nextHeaderIndex = -1;\n\n\t\t\t\t\twhile (nextHeaderIndex < 0 && (tokenizer.position < tokenizer.fileInfo.size)) {\n\t\t\t\t\t\tawait tokenizer.peekBuffer(buffer, {mayBeLess: true});\n\n\t\t\t\t\t\tnextHeaderIndex = buffer.indexOf('504B0304', 0, 'hex');\n\t\t\t\t\t\t// Move position to the next header if found, skip the whole buffer otherwise\n\t\t\t\t\t\tawait tokenizer.ignore(nextHeaderIndex >= 0 ? nextHeaderIndex : buffer.length);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tawait tokenizer.ignore(zipHeader.compressedSize);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\tif (checkString('OggS')) {\n\t\t// This is an OGG container\n\t\tawait tokenizer.ignore(28);\n\t\tconst type = Buffer.alloc(8);\n\t\tawait tokenizer.readBuffer(type);\n\n\t\t// Needs to be before `ogg` check\n\t\tif (_check(type, [0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64])) {\n\t\t\treturn {\n\t\t\t\text: 'opus',\n\t\t\t\tmime: 'audio/opus'\n\t\t\t};\n\t\t}\n\n\t\t// If ' theora' in header.\n\t\tif (_check(type, [0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61])) {\n\t\t\treturn {\n\t\t\t\text: 'ogv',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01video' in header.\n\t\tif (_check(type, [0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ogm',\n\t\t\t\tmime: 'video/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\tif (_check(type, [0x7F, 0x46, 0x4C, 0x41, 0x43])) {\n\t\t\treturn {\n\t\t\t\text: 'oga',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\tif (_check(type, [0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20])) {\n\t\t\treturn {\n\t\t\t\text: 'spx',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// If '\\x01vorbis' in header\n\t\tif (_check(type, [0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73])) {\n\t\t\treturn {\n\t\t\t\text: 'ogg',\n\t\t\t\tmime: 'audio/ogg'\n\t\t\t};\n\t\t}\n\n\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\treturn {\n\t\t\text: 'ogx',\n\t\t\tmime: 'application/ogg'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x50, 0x4B]) &&\n\t\t(buffer[2] === 0x3 || buffer[2] === 0x5 || buffer[2] === 0x7) &&\n\t\t(buffer[3] === 0x4 || buffer[3] === 0x6 || buffer[3] === 0x8)\n\t) {\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\t//\n\n\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\t// It's not required to be first, but it's recommended to be. Almost all ISO base media files start with `ftyp` box.\n\t// `ftyp` box must contain a brand major identifier, which must consist of ISO 8859-1 printable characters.\n\t// Here we check for 8859-1 printable characters (for simplicity, it's a mask which also catches one non-printable character).\n\tif (\n\t\tcheckString('ftyp', {offset: 4}) &&\n\t\t(buffer[8] & 0x60) !== 0x00 // Brand major, first character ASCII?\n\t) {\n\t\t// They all can have MIME `video/mp4` except `application/mp4` special-case which is hard to detect.\n\t\t// For some cases, we're specific, everything else falls to `video/mp4` with `mp4` extension.\n\t\tconst brandMajor = buffer.toString('binary', 8, 12).replace('\\0', ' ').trim();\n\t\tswitch (brandMajor) {\n\t\t\tcase 'avif':\n\t\t\t\treturn {ext: 'avif', mime: 'image/avif'};\n\t\t\tcase 'mif1':\n\t\t\t\treturn {ext: 'heic', mime: 'image/heif'};\n\t\t\tcase 'msf1':\n\t\t\t\treturn {ext: 'heic', mime: 'image/heif-sequence'};\n\t\t\tcase 'heic':\n\t\t\tcase 'heix':\n\t\t\t\treturn {ext: 'heic', mime: 'image/heic'};\n\t\t\tcase 'hevc':\n\t\t\tcase 'hevx':\n\t\t\t\treturn {ext: 'heic', mime: 'image/heic-sequence'};\n\t\t\tcase 'qt':\n\t\t\t\treturn {ext: 'mov', mime: 'video/quicktime'};\n\t\t\tcase 'M4V':\n\t\t\tcase 'M4VH':\n\t\t\tcase 'M4VP':\n\t\t\t\treturn {ext: 'm4v', mime: 'video/x-m4v'};\n\t\t\tcase 'M4P':\n\t\t\t\treturn {ext: 'm4p', mime: 'video/mp4'};\n\t\t\tcase 'M4B':\n\t\t\t\treturn {ext: 'm4b', mime: 'audio/mp4'};\n\t\t\tcase 'M4A':\n\t\t\t\treturn {ext: 'm4a', mime: 'audio/x-m4a'};\n\t\t\tcase 'F4V':\n\t\t\t\treturn {ext: 'f4v', mime: 'video/mp4'};\n\t\t\tcase 'F4P':\n\t\t\t\treturn {ext: 'f4p', mime: 'video/mp4'};\n\t\t\tcase 'F4A':\n\t\t\t\treturn {ext: 'f4a', mime: 'audio/mp4'};\n\t\t\tcase 'F4B':\n\t\t\t\treturn {ext: 'f4b', mime: 'audio/mp4'};\n\t\t\tcase 'crx':\n\t\t\t\treturn {ext: 'cr3', mime: 'image/x-canon-cr3'};\n\t\t\tdefault:\n\t\t\t\tif (brandMajor.startsWith('3g')) {\n\t\t\t\t\tif (brandMajor.startsWith('3g2')) {\n\t\t\t\t\t\treturn {ext: '3g2', mime: 'video/3gpp2'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {ext: '3gp', mime: 'video/3gpp'};\n\t\t\t\t}\n\n\t\t\t\treturn {ext: 'mp4', mime: 'video/mp4'};\n\t\t}\n\t}\n\n\tif (checkString('MThd')) {\n\t\treturn {\n\t\t\text: 'mid',\n\t\t\tmime: 'audio/midi'\n\t\t};\n\t}\n\n\tif (\n\t\tcheckString('wOFF') &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheckString('OTTO', {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff',\n\t\t\tmime: 'font/woff'\n\t\t};\n\t}\n\n\tif (\n\t\tcheckString('wOF2') &&\n\t\t(\n\t\t\tcheck([0x00, 0x01, 0x00, 0x00], {offset: 4}) ||\n\t\t\tcheckString('OTTO', {offset: 4})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff2',\n\t\t\tmime: 'font/woff2'\n\t\t};\n\t}\n\n\tif (check([0xD4, 0xC3, 0xB2, 0xA1]) || check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\treturn {\n\t\t\text: 'pcap',\n\t\t\tmime: 'application/vnd.tcpdump.pcap'\n\t\t};\n\t}\n\n\t// Sony DSD Stream File (DSF)\n\tif (checkString('DSD ')) {\n\t\treturn {\n\t\t\text: 'dsf',\n\t\t\tmime: 'audio/x-dsf' // Non-standard\n\t\t};\n\t}\n\n\tif (checkString('LZIP')) {\n\t\treturn {\n\t\t\text: 'lz',\n\t\t\tmime: 'application/x-lzip'\n\t\t};\n\t}\n\n\tif (checkString('fLaC')) {\n\t\treturn {\n\t\t\text: 'flac',\n\t\t\tmime: 'audio/x-flac'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x50, 0x47, 0xFB])) {\n\t\treturn {\n\t\t\text: 'bpg',\n\t\t\tmime: 'image/bpg'\n\t\t};\n\t}\n\n\tif (checkString('wvpk')) {\n\t\treturn {\n\t\t\text: 'wv',\n\t\t\tmime: 'audio/wavpack'\n\t\t};\n\t}\n\n\tif (checkString('%PDF')) {\n\t\tawait tokenizer.ignore(1350);\n\t\tconst maxBufferSize = 10 * 1024 * 1024;\n\t\tconst buffer = Buffer.alloc(Math.min(maxBufferSize, tokenizer.fileInfo.size));\n\t\tawait tokenizer.readBuffer(buffer, {mayBeLess: true});\n\n\t\t// Check if this is an Adobe Illustrator file\n\t\tif (buffer.includes(Buffer.from('AIPrivateData'))) {\n\t\t\treturn {\n\t\t\t\text: 'ai',\n\t\t\t\tmime: 'application/postscript'\n\t\t\t};\n\t\t}\n\n\t\t// Assume this is just a normal PDF\n\t\treturn {\n\t\t\text: 'pdf',\n\t\t\tmime: 'application/pdf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x61, 0x73, 0x6D])) {\n\t\treturn {\n\t\t\text: 'wasm',\n\t\t\tmime: 'application/wasm'\n\t\t};\n\t}\n\n\t// TIFF, little-endian type\n\tif (check([0x49, 0x49, 0x2A, 0x0])) {\n\t\tif (checkString('CR', {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'cr2',\n\t\t\t\tmime: 'image/x-canon-cr2'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x1C, 0x00, 0xFE, 0x00], {offset: 8}) || check([0x1F, 0x00, 0x0B, 0x00], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'nef',\n\t\t\t\tmime: 'image/x-nikon-nef'\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tcheck([0x08, 0x00, 0x00, 0x00], {offset: 4}) &&\n\t\t\t(check([0x2D, 0x00, 0xFE, 0x00], {offset: 8}) ||\n\t\t\t\tcheck([0x27, 0x00, 0xFE, 0x00], {offset: 8}))\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'dng',\n\t\t\t\tmime: 'image/x-adobe-dng'\n\t\t\t};\n\t\t}\n\n\t\tbuffer = Buffer.alloc(24);\n\t\tawait tokenizer.peekBuffer(buffer);\n\t\tif (\n\t\t\t(check([0x10, 0xFB, 0x86, 0x01], {offset: 4}) || check([0x08, 0x00, 0x00, 0x00], {offset: 4})) &&\n\t\t\t// This pattern differentiates ARW from other TIFF-ish file types:\n\t\t\tcheck([0x00, 0xFE, 0x00, 0x04, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x03, 0x01], {offset: 9})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'arw',\n\t\t\t\tmime: 'image/x-sony-arw'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\t// TIFF, big-endian type\n\tif (check([0x4D, 0x4D, 0x0, 0x2A])) {\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\tif (checkString('MAC ')) {\n\t\treturn {\n\t\t\text: 'ape',\n\t\t\tmime: 'audio/ape'\n\t\t};\n\t}\n\n\t// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska\n\tif (check([0x1A, 0x45, 0xDF, 0xA3])) { // Root element: EBML\n\t\tasync function readField() {\n\t\t\tconst msb = await tokenizer.peekNumber(Token.UINT8);\n\t\t\tlet mask = 0x80;\n\t\t\tlet ic = 0; // 0 = A, 1 = B, 2 = C, 3 = D\n\n\t\t\twhile ((msb & mask) === 0) {\n\t\t\t\t++ic;\n\t\t\t\tmask >>= 1;\n\t\t\t}\n\n\t\t\tconst id = Buffer.alloc(ic + 1);\n\t\t\tawait tokenizer.readBuffer(id);\n\t\t\treturn id;\n\t\t}\n\n\t\tasync function readElement() {\n\t\t\tconst id = await readField();\n\t\t\tconst lenField = await readField();\n\t\t\tlenField[0] ^= 0x80 >> (lenField.length - 1);\n\t\t\tconst nrLen = Math.min(6, lenField.length); // JavaScript can max read 6 bytes integer\n\t\t\treturn {\n\t\t\t\tid: id.readUIntBE(0, id.length),\n\t\t\t\tlen: lenField.readUIntBE(lenField.length - nrLen, nrLen)\n\t\t\t};\n\t\t}\n\n\t\tasync function readChildren(level, children) {\n\t\t\twhile (children > 0) {\n\t\t\t\tconst e = await readElement();\n\t\t\t\tif (e.id === 0x4282) {\n\t\t\t\t\treturn tokenizer.readToken(new Token.StringType(e.len, 'utf-8')); // Return DocType\n\t\t\t\t}\n\n\t\t\t\tawait tokenizer.ignore(e.len); // ignore payload\n\t\t\t\t--children;\n\t\t\t}\n\t\t}\n\n\t\tconst re = await readElement();\n\t\tconst docType = await readChildren(1, re.len);\n\n\t\tswitch (docType) {\n\t\t\tcase 'webm':\n\t\t\t\treturn {\n\t\t\t\t\text: 'webm',\n\t\t\t\t\tmime: 'video/webm'\n\t\t\t\t};\n\n\t\t\tcase 'matroska':\n\t\t\t\treturn {\n\t\t\t\t\text: 'mkv',\n\t\t\t\t\tmime: 'video/x-matroska'\n\t\t\t\t};\n\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\t// RIFF file format which might be AVI, WAV, QCP, etc\n\tif (check([0x52, 0x49, 0x46, 0x46])) {\n\t\tif (check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'avi',\n\t\t\t\tmime: 'video/vnd.avi'\n\t\t\t};\n\t\t}\n\n\t\tif (check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'wav',\n\t\t\t\tmime: 'audio/vnd.wave'\n\t\t\t};\n\t\t}\n\n\t\t// QLCM, QCP file\n\t\tif (check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'qcp',\n\t\t\t\tmime: 'audio/qcelp'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (checkString('SQLi')) {\n\t\treturn {\n\t\t\text: 'sqlite',\n\t\t\tmime: 'application/x-sqlite3'\n\t\t};\n\t}\n\n\tif (check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\treturn {\n\t\t\text: 'nes',\n\t\t\tmime: 'application/x-nintendo-nes-rom'\n\t\t};\n\t}\n\n\tif (checkString('Cr24')) {\n\t\treturn {\n\t\t\text: 'crx',\n\t\t\tmime: 'application/x-google-chrome-extension'\n\t\t};\n\t}\n\n\tif (\n\t\tcheckString('MSCF') ||\n\t\tcheckString('ISc(')\n\t) {\n\t\treturn {\n\t\t\text: 'cab',\n\t\t\tmime: 'application/vnd.ms-cab-compressed'\n\t\t};\n\t}\n\n\tif (check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\treturn {\n\t\t\text: 'rpm',\n\t\t\tmime: 'application/x-rpm'\n\t\t};\n\t}\n\n\tif (check([0xC5, 0xD0, 0xD3, 0xC6])) {\n\t\treturn {\n\t\t\text: 'eps',\n\t\t\tmime: 'application/eps'\n\t\t};\n\t}\n\n\tif (check([0x28, 0xB5, 0x2F, 0xFD])) {\n\t\treturn {\n\t\t\text: 'zst',\n\t\t\tmime: 'application/zstd'\n\t\t};\n\t}\n\n\t// -- 5-byte signatures --\n\n\tif (check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\treturn {\n\t\t\text: 'otf',\n\t\t\tmime: 'font/otf'\n\t\t};\n\t}\n\n\tif (checkString('#!AMR')) {\n\t\treturn {\n\t\t\text: 'amr',\n\t\t\tmime: 'audio/amr'\n\t\t};\n\t}\n\n\tif (checkString('{\\\\rtf')) {\n\t\treturn {\n\t\t\text: 'rtf',\n\t\t\tmime: 'application/rtf'\n\t\t};\n\t}\n\n\tif (check([0x46, 0x4C, 0x56, 0x01])) {\n\t\treturn {\n\t\t\text: 'flv',\n\t\t\tmime: 'video/x-flv'\n\t\t};\n\t}\n\n\tif (checkString('IMPM')) {\n\t\treturn {\n\t\t\text: 'it',\n\t\t\tmime: 'audio/x-it'\n\t\t};\n\t}\n\n\tif (\n\t\tcheckString('-lh0-', {offset: 2}) ||\n\t\tcheckString('-lh1-', {offset: 2}) ||\n\t\tcheckString('-lh2-', {offset: 2}) ||\n\t\tcheckString('-lh3-', {offset: 2}) ||\n\t\tcheckString('-lh4-', {offset: 2}) ||\n\t\tcheckString('-lh5-', {offset: 2}) ||\n\t\tcheckString('-lh6-', {offset: 2}) ||\n\t\tcheckString('-lh7-', {offset: 2}) ||\n\t\tcheckString('-lzs-', {offset: 2}) ||\n\t\tcheckString('-lz4-', {offset: 2}) ||\n\t\tcheckString('-lz5-', {offset: 2}) ||\n\t\tcheckString('-lhd-', {offset: 2})\n\t) {\n\t\treturn {\n\t\t\text: 'lzh',\n\t\t\tmime: 'application/x-lzh-compressed'\n\t\t};\n\t}\n\n\t// MPEG program stream (PS or MPEG-PS)\n\tif (check([0x00, 0x00, 0x01, 0xBA])) {\n\t\t//  MPEG-PS, MPEG-1 Part 1\n\t\tif (check([0x21], {offset: 4, mask: [0xF1]})) {\n\t\t\treturn {\n\t\t\t\text: 'mpg', // May also be .ps, .mpeg\n\t\t\t\tmime: 'video/MP1S'\n\t\t\t};\n\t\t}\n\n\t\t// MPEG-PS, MPEG-2 Part 1\n\t\tif (check([0x44], {offset: 4, mask: [0xC4]})) {\n\t\t\treturn {\n\t\t\t\text: 'mpg', // May also be .mpg, .m2p, .vob or .sub\n\t\t\t\tmime: 'video/MP2P'\n\t\t\t};\n\t\t}\n\t}\n\n\tif (checkString('ITSF')) {\n\t\treturn {\n\t\t\text: 'chm',\n\t\t\tmime: 'application/vnd.ms-htmlhelp'\n\t\t};\n\t}\n\n\t// -- 6-byte signatures --\n\n\tif (check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\treturn {\n\t\t\text: 'xz',\n\t\t\tmime: 'application/x-xz'\n\t\t};\n\t}\n\n\tif (checkString('<?xml ')) {\n\t\treturn {\n\t\t\text: 'xml',\n\t\t\tmime: 'application/xml'\n\t\t};\n\t}\n\n\tif (check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\treturn {\n\t\t\text: '7z',\n\t\t\tmime: 'application/x-7z-compressed'\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7]) &&\n\t\t(buffer[6] === 0x0 || buffer[6] === 0x1)\n\t) {\n\t\treturn {\n\t\t\text: 'rar',\n\t\t\tmime: 'application/x-rar-compressed'\n\t\t};\n\t}\n\n\tif (checkString('solid ')) {\n\t\treturn {\n\t\t\text: 'stl',\n\t\t\tmime: 'model/stl'\n\t\t};\n\t}\n\n\t// -- 7-byte signatures --\n\n\tif (checkString('BLENDER')) {\n\t\treturn {\n\t\t\text: 'blend',\n\t\t\tmime: 'application/x-blender'\n\t\t};\n\t}\n\n\tif (checkString('!<arch>')) {\n\t\tawait tokenizer.ignore(8);\n\t\tconst str = await tokenizer.readToken(new Token.StringType(13, 'ascii'));\n\t\tif (str === 'debian-binary') {\n\t\t\treturn {\n\t\t\t\text: 'deb',\n\t\t\t\tmime: 'application/x-deb'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\text: 'ar',\n\t\t\tmime: 'application/x-unix-archive'\n\t\t};\n\t}\n\n\t// -- 8-byte signatures --\n\n\tif (check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t// APNG format (https://wiki.mozilla.org/APNG_Specification)\n\t\t// 1. Find the first IDAT (image data) chunk (49 44 41 54)\n\t\t// 2. Check if there is an \"acTL\" chunk before the IDAT one (61 63 54 4C)\n\n\t\t// Offset calculated as follows:\n\t\t// - 8 bytes: PNG signature\n\t\t// - 4 (length) + 4 (chunk type) + 13 (chunk data) + 4 (CRC): IHDR chunk\n\n\t\tawait tokenizer.ignore(8); // ignore PNG signature\n\n\t\tasync function readChunkHeader() {\n\t\t\treturn {\n\t\t\t\tlength: await tokenizer.readToken(Token.INT32_BE),\n\t\t\t\ttype: await tokenizer.readToken(new Token.StringType(4, 'binary'))\n\t\t\t};\n\t\t}\n\n\t\tdo {\n\t\t\tconst chunk = await readChunkHeader();\n\t\t\tif (chunk.length < 0) {\n\t\t\t\treturn; // Invalid chunk length\n\t\t\t}\n\n\t\t\tswitch (chunk.type) {\n\t\t\t\tcase 'IDAT':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'png',\n\t\t\t\t\t\tmime: 'image/png'\n\t\t\t\t\t};\n\t\t\t\tcase 'acTL':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'apng',\n\t\t\t\t\t\tmime: 'image/apng'\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\tawait tokenizer.ignore(chunk.length + 4); // Ignore chunk-data + CRC\n\t\t\t}\n\t\t} while (tokenizer.position + 8 < tokenizer.fileInfo.size);\n\n\t\treturn {\n\t\t\text: 'png',\n\t\t\tmime: 'image/png'\n\t\t};\n\t}\n\n\tif (check([0x41, 0x52, 0x52, 0x4F, 0x57, 0x31, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'arrow',\n\t\t\tmime: 'application/x-apache-arrow'\n\t\t};\n\t}\n\n\tif (check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'glb',\n\t\t\tmime: 'model/gltf-binary'\n\t\t};\n\t}\n\n\t// `mov` format variants\n\tif (\n\t\tcheck([0x66, 0x72, 0x65, 0x65], {offset: 4}) || // `free`\n\t\tcheck([0x6D, 0x64, 0x61, 0x74], {offset: 4}) || // `mdat` MJPEG\n\t\tcheck([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) || // `moov`\n\t\tcheck([0x77, 0x69, 0x64, 0x65], {offset: 4}) // `wide`\n\t) {\n\t\treturn {\n\t\t\text: 'mov',\n\t\t\tmime: 'video/quicktime'\n\t\t};\n\t}\n\n\t// -- 9-byte signatures --\n\n\tif (check([0x49, 0x49, 0x52, 0x4F, 0x08, 0x00, 0x00, 0x00, 0x18])) {\n\t\treturn {\n\t\t\text: 'orf',\n\t\t\tmime: 'image/x-olympus-orf'\n\t\t};\n\t}\n\n\tif (checkString('gimp xcf ')) {\n\t\treturn {\n\t\t\text: 'xcf',\n\t\t\tmime: 'image/x-xcf'\n\t\t};\n\t}\n\n\t// -- 12-byte signatures --\n\n\tif (check([0x49, 0x49, 0x55, 0x00, 0x18, 0x00, 0x00, 0x00, 0x88, 0xE7, 0x74, 0xD8])) {\n\t\treturn {\n\t\t\text: 'rw2',\n\t\t\tmime: 'image/x-panasonic-rw2'\n\t\t};\n\t}\n\n\t// ASF_Header_Object first 80 bytes\n\tif (check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\tasync function readHeader() {\n\t\t\tconst guid = Buffer.alloc(16);\n\t\t\tawait tokenizer.readBuffer(guid);\n\t\t\treturn {\n\t\t\t\tid: guid,\n\t\t\t\tsize: Number(await tokenizer.readToken(Token.UINT64_LE))\n\t\t\t};\n\t\t}\n\n\t\tawait tokenizer.ignore(30);\n\t\t// Search for header should be in first 1KB of file.\n\t\twhile (tokenizer.position + 24 < tokenizer.fileInfo.size) {\n\t\t\tconst header = await readHeader();\n\t\t\tlet payload = header.size - 24;\n\t\t\tif (_check(header.id, [0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65])) {\n\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\tconst typeId = Buffer.alloc(16);\n\t\t\t\tpayload -= await tokenizer.readBuffer(typeId);\n\n\t\t\t\tif (_check(typeId, [0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t// Found audio:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\tmime: 'audio/x-ms-asf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (_check(typeId, [0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t// Found video:\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\tmime: 'video/x-ms-asf'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(payload);\n\t\t}\n\n\t\t// Default to ASF generic extension\n\t\treturn {\n\t\t\text: 'asf',\n\t\t\tmime: 'application/vnd.ms-asf'\n\t\t};\n\t}\n\n\tif (check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\treturn {\n\t\t\text: 'ktx',\n\t\t\tmime: 'image/ktx'\n\t\t};\n\t}\n\n\tif ((check([0x7E, 0x10, 0x04]) || check([0x7E, 0x18, 0x04])) && check([0x30, 0x4D, 0x49, 0x45], {offset: 4})) {\n\t\treturn {\n\t\t\text: 'mie',\n\t\t\tmime: 'application/x-mie'\n\t\t};\n\t}\n\n\tif (check([0x27, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], {offset: 2})) {\n\t\treturn {\n\t\t\text: 'shp',\n\t\t\tmime: 'application/x-esri-shape'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t// JPEG-2000 family\n\n\t\tawait tokenizer.ignore(20);\n\t\tconst type = await tokenizer.readToken(new Token.StringType(4, 'ascii'));\n\t\tswitch (type) {\n\t\t\tcase 'jp2 ':\n\t\t\t\treturn {\n\t\t\t\t\text: 'jp2',\n\t\t\t\t\tmime: 'image/jp2'\n\t\t\t\t};\n\t\t\tcase 'jpx ':\n\t\t\t\treturn {\n\t\t\t\t\text: 'jpx',\n\t\t\t\t\tmime: 'image/jpx'\n\t\t\t\t};\n\t\t\tcase 'jpm ':\n\t\t\t\treturn {\n\t\t\t\t\text: 'jpm',\n\t\t\t\t\tmime: 'image/jpm'\n\t\t\t\t};\n\t\t\tcase 'mjp2':\n\t\t\t\treturn {\n\t\t\t\t\text: 'mj2',\n\t\t\t\t\tmime: 'image/mj2'\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tif (\n\t\tcheck([0xFF, 0x0A]) ||\n\t\tcheck([0x00, 0x00, 0x00, 0x0C, 0x4A, 0x58, 0x4C, 0x20, 0x0D, 0x0A, 0x87, 0x0A])\n\t) {\n\t\treturn {\n\t\t\text: 'jxl',\n\t\t\tmime: 'image/jxl'\n\t\t};\n\t}\n\n\t// -- Unsafe signatures --\n\n\tif (\n\t\tcheck([0x0, 0x0, 0x1, 0xBA]) ||\n\t\tcheck([0x0, 0x0, 0x1, 0xB3])\n\t) {\n\t\treturn {\n\t\t\text: 'mpg',\n\t\t\tmime: 'video/mpeg'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'ttf',\n\t\t\tmime: 'font/ttf'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x01, 0x00])) {\n\t\treturn {\n\t\t\text: 'ico',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0x00, 0x00, 0x02, 0x00])) {\n\t\treturn {\n\t\t\text: 'cur',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\t// Detected Microsoft Compound File Binary File (MS-CFB) Format.\n\t\treturn {\n\t\t\text: 'cfb',\n\t\t\tmime: 'application/x-cfb'\n\t\t};\n\t}\n\n\t// Increase sample size from 12 to 256.\n\tawait tokenizer.peekBuffer(buffer, {length: Math.min(256, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t// -- 15-byte signatures --\n\n\tif (checkString('BEGIN:')) {\n\t\tif (checkString('VCARD', {offset: 6})) {\n\t\t\treturn {\n\t\t\t\text: 'vcf',\n\t\t\t\tmime: 'text/vcard'\n\t\t\t};\n\t\t}\n\n\t\tif (checkString('VCALENDAR', {offset: 6})) {\n\t\t\treturn {\n\t\t\t\text: 'ics',\n\t\t\t\tmime: 'text/calendar'\n\t\t\t};\n\t\t}\n\t}\n\n\t// `raf` is here just to keep all the raw image detectors together.\n\tif (checkString('FUJIFILMCCD-RAW')) {\n\t\treturn {\n\t\t\text: 'raf',\n\t\t\tmime: 'image/x-fujifilm-raf'\n\t\t};\n\t}\n\n\tif (checkString('Extended Module:')) {\n\t\treturn {\n\t\t\text: 'xm',\n\t\t\tmime: 'audio/x-xm'\n\t\t};\n\t}\n\n\tif (checkString('Creative Voice File')) {\n\t\treturn {\n\t\t\text: 'voc',\n\t\t\tmime: 'audio/x-voc'\n\t\t};\n\t}\n\n\tif (check([0x04, 0x00, 0x00, 0x00]) && buffer.length >= 16) { // Rough & quick check Pickle/ASAR\n\t\tconst jsonSize = buffer.readUInt32LE(12);\n\t\tif (jsonSize > 12 && buffer.length >= jsonSize + 16) {\n\t\t\ttry {\n\t\t\t\tconst header = buffer.slice(16, jsonSize + 16).toString();\n\t\t\t\tconst json = JSON.parse(header);\n\t\t\t\t// Check if Pickle is ASAR\n\t\t\t\tif (json.files) { // Final check, assuring Pickle/ASAR format\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'asar',\n\t\t\t\t\t\tmime: 'application/x-asar'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} catch (_) {\n\t\t\t}\n\t\t}\n\t}\n\n\tif (check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\treturn {\n\t\t\text: 'mxf',\n\t\t\tmime: 'application/mxf'\n\t\t};\n\t}\n\n\tif (checkString('SCRM', {offset: 44})) {\n\t\treturn {\n\t\t\text: 's3m',\n\t\t\tmime: 'audio/x-s3m'\n\t\t};\n\t}\n\n\tif (check([0x47], {offset: 4}) && (check([0x47], {offset: 192}) || check([0x47], {offset: 196}))) {\n\t\treturn {\n\t\t\text: 'mts',\n\t\t\tmime: 'video/mp2t'\n\t\t};\n\t}\n\n\tif (check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\treturn {\n\t\t\text: 'mobi',\n\t\t\tmime: 'application/x-mobipocket-ebook'\n\t\t};\n\t}\n\n\tif (check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\treturn {\n\t\t\text: 'dcm',\n\t\t\tmime: 'application/dicom'\n\t\t};\n\t}\n\n\tif (check([0x4C, 0x00, 0x00, 0x00, 0x01, 0x14, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46])) {\n\t\treturn {\n\t\t\text: 'lnk',\n\t\t\tmime: 'application/x.ms.shortcut' // Invented by us\n\t\t};\n\t}\n\n\tif (check([0x62, 0x6F, 0x6F, 0x6B, 0x00, 0x00, 0x00, 0x00, 0x6D, 0x61, 0x72, 0x6B, 0x00, 0x00, 0x00, 0x00])) {\n\t\treturn {\n\t\t\text: 'alias',\n\t\t\tmime: 'application/x.apple.alias' // Invented by us\n\t\t};\n\t}\n\n\tif (\n\t\tcheck([0x4C, 0x50], {offset: 34}) &&\n\t\t(\n\t\t\tcheck([0x00, 0x00, 0x01], {offset: 8}) ||\n\t\t\tcheck([0x01, 0x00, 0x02], {offset: 8}) ||\n\t\t\tcheck([0x02, 0x00, 0x02], {offset: 8})\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'eot',\n\t\t\tmime: 'application/vnd.ms-fontobject'\n\t\t};\n\t}\n\n\tif (check([0x06, 0x06, 0xED, 0xF5, 0xD8, 0x1D, 0x46, 0xE5, 0xBD, 0x31, 0xEF, 0xE7, 0xFE, 0x74, 0xB7, 0x1D])) {\n\t\treturn {\n\t\t\text: 'indd',\n\t\t\tmime: 'application/x-indesign'\n\t\t};\n\t}\n\n\t// Increase sample size from 256 to 512\n\tawait tokenizer.peekBuffer(buffer, {length: Math.min(512, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t// Requires a buffer size of 512 bytes\n\tif (tarHeaderChecksumMatches(buffer)) {\n\t\treturn {\n\t\t\text: 'tar',\n\t\t\tmime: 'application/x-tar'\n\t\t};\n\t}\n\n\tif (check([0xFF, 0xFE, 0xFF, 0x0E, 0x53, 0x00, 0x6B, 0x00, 0x65, 0x00, 0x74, 0x00, 0x63, 0x00, 0x68, 0x00, 0x55, 0x00, 0x70, 0x00, 0x20, 0x00, 0x4D, 0x00, 0x6F, 0x00, 0x64, 0x00, 0x65, 0x00, 0x6C, 0x00])) {\n\t\treturn {\n\t\t\text: 'skp',\n\t\t\tmime: 'application/vnd.sketchup.skp'\n\t\t};\n\t}\n\n\tif (checkString('-----BEGIN PGP MESSAGE-----')) {\n\t\treturn {\n\t\t\text: 'pgp',\n\t\t\tmime: 'application/pgp-encrypted'\n\t\t};\n\t}\n\n\t// Check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE)\n\tif (buffer.length >= 2 && check([0xFF, 0xE0], {offset: 0, mask: [0xFF, 0xE0]})) {\n\t\tif (check([0x10], {offset: 1, mask: [0x16]})) {\n\t\t\t// Check for (ADTS) MPEG-2\n\t\t\tif (check([0x08], {offset: 1, mask: [0x08]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'aac',\n\t\t\t\t\tmime: 'audio/aac'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Must be (ADTS) MPEG-4\n\t\t\treturn {\n\t\t\t\text: 'aac',\n\t\t\t\tmime: 'audio/aac'\n\t\t\t};\n\t\t}\n\n\t\t// MPEG 1 or 2 Layer 3 header\n\t\t// Check for MPEG layer 3\n\t\tif (check([0x02], {offset: 1, mask: [0x06]})) {\n\t\t\treturn {\n\t\t\t\text: 'mp3',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\t// Check for MPEG layer 2\n\t\tif (check([0x04], {offset: 1, mask: [0x06]})) {\n\t\t\treturn {\n\t\t\t\text: 'mp2',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\n\t\t// Check for MPEG layer 1\n\t\tif (check([0x06], {offset: 1, mask: [0x06]})) {\n\t\t\treturn {\n\t\t\t\text: 'mp1',\n\t\t\t\tmime: 'audio/mpeg'\n\t\t\t};\n\t\t}\n\t}\n}\n\nconst stream = readableStream => new Promise((resolve, reject) => {\n\t// Using `eval` to work around issues when bundling with Webpack\n\tconst stream = eval('require')('stream'); // eslint-disable-line no-eval\n\n\treadableStream.on('error', reject);\n\treadableStream.once('readable', async () => {\n\t\t// Set up output stream\n\t\tconst pass = new stream.PassThrough();\n\t\tlet outputStream;\n\t\tif (stream.pipeline) {\n\t\t\toutputStream = stream.pipeline(readableStream, pass, () => {\n\t\t\t});\n\t\t} else {\n\t\t\toutputStream = readableStream.pipe(pass);\n\t\t}\n\n\t\t// Read the input stream and detect the filetype\n\t\tconst chunk = readableStream.read(minimumBytes) || readableStream.read() || Buffer.alloc(0);\n\t\ttry {\n\t\t\tconst fileType = await fromBuffer(chunk);\n\t\t\tpass.fileType = fileType;\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\n\t\tresolve(outputStream);\n\t});\n});\n\nconst fileType = {\n\tfromStream,\n\tfromTokenizer,\n\tfromBuffer,\n\tstream\n};\n\nObject.defineProperty(fileType, 'extensions', {\n\tget() {\n\t\treturn new Set(supported.extensions);\n\t}\n});\n\nObject.defineProperty(fileType, 'mimeTypes', {\n\tget() {\n\t\treturn new Set(supported.mimeTypes);\n\t}\n});\n\nmodule.exports = fileType;\n","'use strict';\nconst {ReadableWebToNodeStream} = require('readable-web-to-node-stream');\nconst core = require('./core');\n\nasync function fromStream(stream) {\n\tconst readableWebToNodeStream = new ReadableWebToNodeStream(stream);\n\tconst fileType = await core.fromStream(readableWebToNodeStream);\n\tawait readableWebToNodeStream.close();\n\treturn fileType;\n}\n\nasync function fromBlob(blob) {\n\tconst buffer = await blobToArrayBuffer(blob);\n\treturn core.fromBuffer(Buffer.from(buffer));\n}\n\n/**\nConvert Blobs to ArrayBuffer.\n@param {Blob} blob - Web API Blob.\n@returns {Promise<ArrayBuffer>}\n*/\nfunction blobToArrayBuffer(blob) {\n\tif (blob.arrayBuffer) {\n\t\treturn blob.arrayBuffer();\n\t}\n\n\t// TODO: Remove when stop supporting older environments\n\treturn new Promise((resolve, reject) => {\n\t\tconst fileReader = new FileReader();\n\t\tfileReader.addEventListener('loadend', event => {\n\t\t\tresolve(event.target.result);\n\t\t});\n\n\t\tfileReader.addEventListener('error', event => {\n\t\t\treject(new Error(event.message));\n\t\t});\n\n\t\tfileReader.addEventListener('abort', event => {\n\t\t\treject(new Error(event.type));\n\t\t});\n\n\t\tfileReader.readAsArrayBuffer(blob);\n\t});\n}\n\nObject.assign(module.exports, core, {\n\tfromStream,\n\tfromBlob\n});\n"],"names":["Object","defineProperty","lib","value","ReadableWebToNodeStream","readable_stream_1","require$$0","Readable","constructor","stream","bytesRead","released","reader","getReader","_read","push","pendingRead","read","data","done","length","waitForReadToComplete","close","syncAndRelease","releaseLock","ieee754","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","i","d","s","NaN","Infinity","Math","pow","write","c","rt","abs","isNaN","floor","log","LN2","exports","AnsiStringType","StringType","BufferType","Uint8ArrayType","IgnoreType","Float80_BE","Float64_LE","Float64_BE","Float32_LE","Float32_BE","Float16_LE","Float16_BE","INT64_BE","INT64_LE","UINT64_LE","INT32_LE","INT32_BE","INT24_BE","INT24_LE","INT16_LE","INT16_BE","UINT32_BE","UINT32_LE","UINT24_BE","UINT24_LE","UINT16_BE","UINT16_LE","UINT8","dv","array","DataView","byteOffset","len","get","getUint8","put","setUint8","getUint16","setUint16","dataView","getUint32","setUint32","INT8","getInt8","setInt8","getInt16","setInt16","unsigned","getInt32","setInt32","getBigUint64","setBigUint64","getBigInt64","setBigInt64","UINT64_BE","getFloat32","setFloat32","getFloat64","setFloat64","Float80_LE","off","subarray","uint8Array","Buffer","from","encoding","toString","decode","until","str","codePointToString","singleByteDecoder","inRange","a","min","max","cp","String","fromCharCode","bite","codePoint","windows1252","Error","arguments","undefined","EndOfStreamError","defaultMessages","Deferred_1","Deferred","resolve","reject","promise","Promise","StreamReader","EndOfFileStream_1","require$$1","EndOfFileStream_2","enumerable","maxStreamReadSize","deferred","endOfStream","peekQueue","once","err","peek","remaining","peekData","pop","lenCopy","set","reqLen","chunkLen","readFromStream","readBuffer","request","readDeferred","StreamReader_1","AbstractTokenizer_1","AbstractTokenizer","peek_readable_1","fileInfo","position","numBuffer","Uint8Array","readToken","token","alloc","peekToken","peekBuffer","readNumber","peekNumber","ignore","size","bytesLeft","normalizeOptions","options","mayBeLess","ReadStreamTokenizer_1","ReadStreamTokenizer","maxBufferSize","streamReader","getFileInfo","normOptions","skipBytes","skipBuffer","bufSize","buf","totBytesRead","BufferTokenizer_1","BufferTokenizer","bytes2read","fromBuffer","fromStream","require$$2","util","stringToBytes","string","map","character","charCodeAt","tarHeaderChecksumMatches","readSum","parseInt","replace","trim","sum","uint32SyncSafeToken","supported","extensions","mimeTypes","Token","strtok3","require$$3","minimumBytes","tokenizer","fromTokenizer","input","ArrayBuffer","isBuffer","TypeError","_check","headers","index","header","entries","mask","_fromTokenizer","error","check","checkString","Number","MAX_SAFE_INTEGER","ext","mime","id3HeaderLen","zipHeader","compressedSize","readUInt32LE","uncompressedSize","filenameLength","readUInt16LE","extraFieldLength","filename","endsWith","type","split","startsWith","mimeType","nextHeaderIndex","indexOf","brandMajor","includes","readField","msb","ic","id","readElement","lenField","nrLen","readUIntBE","readChildren","level","children","re","docType","readChunkHeader","chunk","readHeader","guid","payload","typeId","jsonSize","slice","json","JSON","parse","files","_","readableStream","eval","on","pass","PassThrough","outputStream","pipeline","pipe","fileType","Set","core","readableWebToNodeStream","fromBlob","blob","blobToArrayBuffer","arrayBuffer","fileReader","FileReader","addEventListener","event","target","result","message","readAsArrayBuffer","assign","module"],"mappings":"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"}